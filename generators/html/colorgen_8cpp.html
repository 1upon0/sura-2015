<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>My Project: colorgen.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">colorgen.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;queue&gt;</code><br />
<code>#include &lt;limits&gt;</code><br />
<code>#include &lt;cfloat&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &quot;common.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4679d8ea8690999a6c6c7c0cb245c879"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4679d8ea8690999a6c6c7c0cb245c879"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>THRESHOLD</b>&#160;&#160;&#160;(3e-2)</td></tr>
<tr class="separator:a4679d8ea8690999a6c6c7c0cb245c879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d435d1f6b063d75aa64de7e49d10223"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d435d1f6b063d75aa64de7e49d10223"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONTROL_POINTS</b>&#160;&#160;&#160;(8)</td></tr>
<tr class="separator:a2d435d1f6b063d75aa64de7e49d10223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2124ca619b2968b0cc8429e2a7036869"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2124ca619b2968b0cc8429e2a7036869"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLOAT_MAX</b>&#160;&#160;&#160;(1e6)</td></tr>
<tr class="separator:a2124ca619b2968b0cc8429e2a7036869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea466a7139309b17bce61d5ccb03e195"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea466a7139309b17bce61d5ccb03e195"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>mp</b>&#160;&#160;&#160;make_pair</td></tr>
<tr class="separator:aea466a7139309b17bce61d5ccb03e195"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a716cb6a99c5b36d3ed0f66f514fd3150"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="colorgen_8cpp.html#a716cb6a99c5b36d3ed0f66f514fd3150">dist</a> (const <a class="el" href="class_color.html">Color</a> &amp;c1, const <a class="el" href="class_color.html">Color</a> &amp;c2)</td></tr>
<tr class="memdesc:a716cb6a99c5b36d3ed0f66f514fd3150"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance between two colors.  <a href="#a716cb6a99c5b36d3ed0f66f514fd3150">More...</a><br /></td></tr>
<tr class="separator:a716cb6a99c5b36d3ed0f66f514fd3150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f305bc1e6c167e709bac9b8da9f82e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="colorgen_8cpp.html#a3f305bc1e6c167e709bac9b8da9f82e8">dijkstra</a> (int beg, int n, vector&lt; vector&lt; pair&lt; float, int &gt; &gt; &gt; &amp;e, vector&lt; float &gt; &amp;cur)</td></tr>
<tr class="memdesc:a3f305bc1e6c167e709bac9b8da9f82e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dijkstra shortest path.  <a href="#a3f305bc1e6c167e709bac9b8da9f82e8">More...</a><br /></td></tr>
<tr class="separator:a3f305bc1e6c167e709bac9b8da9f82e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="colorgen_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab682eab3233d3c8752678cc9a89e0616"><td class="memItemLeft" align="right" valign="top">map&lt; <a class="el" href="class_color.html">Color</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="colorgen_8cpp.html#ab682eab3233d3c8752678cc9a89e0616">color_map</a></td></tr>
<tr class="separator:ab682eab3233d3c8752678cc9a89e0616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d450c087ddf4e412555b23961479b9"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="class_color.html">Color</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="colorgen_8cpp.html#a21d450c087ddf4e412555b23961479b9">colors</a></td></tr>
<tr class="separator:a21d450c087ddf4e412555b23961479b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3f305bc1e6c167e709bac9b8da9f82e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dijkstra </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>beg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; vector&lt; pair&lt; float, int &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>cur</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dijkstra shortest path. </p>
<p>Calculates the shortest path from source vertex to all vertices in graph</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">beg</td><td>Source vertex </td></tr>
    <tr><td class="paramname">n</td><td>Total number of vertics in graph </td></tr>
    <tr><td class="paramname">cur</td><td>cur[i] represent path length to reach vertex i at some point in algorithm. Finally it contains shortest path. </td></tr>
    <tr><td class="paramname">e</td><td>Adjanceny of graph. e[i] contains list of all neighbours along with edge cost </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a716cb6a99c5b36d3ed0f66f514fd3150"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float dist </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_color.html">Color</a> &amp;&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_color.html">Color</a> &amp;&#160;</td>
          <td class="paramname"><em>c2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance between two colors. </p>
<p>Used euclidean distance. Can be modified to taxicab(N-4) distance or N-8 distance </p>

</div>
</div>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>cv represents control point in color space. cv[i] - (idx,val) where idx = index/position of color in unique color array, val = corrosion value We thus get color information corresponding to corrosion value.</p>
<p>cp represents control points in the pixel space. cp[i] - (x,y) where x,y are coordinates of control points entered by user</p>
<p>Histogram processing of the image</p>
<p>Extracting unique color from the image and number of pixel corresponding to each color.</p>
<p>Obtain unique color neglecting frequency. Also corresponding to each control point marked by the user, find corrosion value. This gives us rough information of which color represents what degree of corrosion.(Entirely based on user interaction. We are not extracting this information from image.)</p>
<p>Generating the graph For each color c, we calculate distance of all the colors from c. Only those color whose value is less then some threshold, we consider it to be neighbour of c. This way adjanceny list of graph is generated.</p>
<p>Control point Distance Now for each of control point marked by the user, we apply dijkstra algorithm to find shortest path considering control point as source. Thus we evaluate inverse distance for each control point.</p>
<p>Distributing the corrosion in the graph Now from each of control point, we leak to corrosion value along the graph. Leakage is directly proportional to the inverse distance caluculated with dijkstra algorithm. This way we get corrosion value for all the vertices. Also using this, we get mapping from corrosion value to color.</p>
<p>Generating output Now for each vertex in the graph, we have corrosion value calculated from control points. Using this corrosion value, and color of corresponding pixel, we generate spectrum of corrosion appearance. This shows appearance at each corrosion degree value.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ab682eab3233d3c8752678cc9a89e0616"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;<a class="el" href="class_color.html">Color</a>,int&gt; color_map</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>color_map[i] - Represent color with its frequency in the image. This gives us information about histogram of the image. </p>

</div>
</div>
<a class="anchor" id="a21d450c087ddf4e412555b23961479b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="class_color.html">Color</a>&gt; colors</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>colors - Represent unique color of image. We here do not consider frequency of colors. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
